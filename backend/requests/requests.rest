@baseUrl = http://localhost:8000
@appId = 1

### ============================================================================
### 0. APP CREATION (Run this first!)
### ============================================================================

### Create the Main App
# This initializes the app so you have an ID (usually 1) to attach pages to.
POST {{baseUrl}}/api/app/
Content-Type: application/json

{
  "app_name": "My Solar Calc"
}



### ============================================================================
### 1. APP UPDATE (The Structure Endpoint)
### ============================================================================

### Update App Structure (Update, Create, and Delete in one go)
PUT {{baseUrl}}/api/app/{{appId}}/
Content-Type: application/json

{
  "app_name": "My Solar Calc (v2)",
  "pages": [
    {
      "id": 1,
      "title": "Monthly Usage (Updated)",
      "description": "We updated this page title!",
      "image_url": "http://localhost:8000/static/solar-1.jpg",
      "order_index": 0,
      "inputs": [
        {
          "id": 1, 
          "variable_name": "Bill", 
          "placeholder": "Monthly Bill ($)",
        },
        {
          "variable_name": "Roof_Area", 
          "placeholder": "Roof Size (m2)", 
        }
      ],
      "calculations": [] 
    },
    {
      "title": "Results Page (New)",
      "description": "This page was just created.",
      "image_url": "",
      "order_index": 1,
      "inputs": [],
      "calculations": [
        {
          "output_name": "Total_Savings",
          "formula": "Bill * 12",
          "unit": "$"
        }
      ]
    }
  ]
}

### ============================================================================
### 5. AUTHENTICATION
### ============================================================================

### Register User
POST {{baseUrl}}/api/register
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123"
}